Index: src/main/java/org/team1540/robot2026/subsystems/PieceDetection/PieceDetection.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.team1540.robot2026.subsystems.PieceDetection;\n\nimport edu.wpi.first.math.controller.PIDController;\nimport edu.wpi.first.math.geometry.Rotation2d;\nimport edu.wpi.first.math.geometry.Translation3d;\nimport edu.wpi.first.wpilibj2.command.SubsystemBase;\nimport org.team1540.robot2026.util.LoggedTunableNumber;\n\nimport java.util.ArrayList;\n\npublic class PieceDetection extends SubsystemBase {\n    public PieceDetectionIO detectionIO;\n\n    private final LoggedTunableNumber kp = new LoggedTunableNumber(\"PieceDetection/kp\", 30.0);\n    private final LoggedTunableNumber ki = new LoggedTunableNumber(\"PieceDetection/ki\", 30.0);\n    private final LoggedTunableNumber kd = new LoggedTunableNumber(\"PieceDetection/kd\", 30.0);\n    private final LoggedTunableNumber mode = new LoggedTunableNumber(\"PieceDetection/useRobotRelative(0:center biggest cluster 1: biggest cluster, 2: closest cluster, 3: use weights as heuristics, else: disable)\", 1);\n    private final LoggedTunableNumber eachBallPoint = new LoggedTunableNumber(\"# ball wight\");\n    private final LoggedTunableNumber farthestBallDistancePointsM = new LoggedTunableNumber(\"the point value each meter of additional distance takes\");\n\n    PIDController pid = new PIDController(kp.get(), ki.get(), kd.get());\n// detect fighting give in\n\n    public PieceDetection() {\n        detectionIO = new PieceDetectionIOReal();\n    }\n\n    public double getPieceDetectionAngle(double kp, double ki, double kd){\n        double targetAngle = 0;\n            switch ((int) mode.getAsDouble()){\n                case 0:\n                    // center biggest cluster\n                    // if there is cluster within x distance than use biggest one\n                    // else pick cluster closest to center\n                    //'center' can be changed based off of vel\n                    break;\n                case 1 :\n\n\n\n\n\n                    //biggest cluster\n\n                    Translation3d[] detectionsb =  detectionIO.getPoses();\n\n                    // turn detections into an array of doubles\n                    ArrayList<double[]> pointsb = new ArrayList<double[]>();\n\n                    for (int i = 0; i < detectionsb.length; i++) {\n                        Translation3d detection = detectionsb[i];\n                        if (!(detection.getZ() >= 10)) {// if greater than or equal to 10 cm above the ground we don't want it\n                            pointsb.add(new double[]{detection.getX(), detection.getY()});\n                        }\n                        // turn detections into an array of doubles\n                    }\n\n                        // loop through find best value for k\n                        double bestWCSSb = Double.POSITIVE_INFINITY;\n                        KMeans bestMeanb = null;\n                        for (int j = 1; j < detectionsb.length-1; j++) {\n                            KMeans means = new KMeans(new KMeans.Builder(j, pointsb.toArray(new double[][]{})));\n                            if (means.getWCSS()<bestWCSSb){\n                                bestMeanb = means;\n                                bestWCSSb = means.getWCSS();\n                            }\n                        }\n                       // turn the centroid into an angle to move\n                        int largestClusterIndex = bestMeanb.getLargestClusterIndex();\n                        double[] centroidWithMostThingsOnIt = bestMeanb.getCentroids()[largestClusterIndex];\n                        ArrayList<double[]> pointsForCentroidBiggest = KMeans.getPointsForCentroid(bestMeanb.getAssignment(), pointsb.toArray(new double[][]{}) ,largestClusterIndex);\n                        for (Translation3d detection: detectionsb){ // loop through and see if any of the cords match\n                            if (pointsForCentroidBiggest.contains(new double[]{detection.getX(), detection.getY()})) targetAngle = Rotation2d.fromRadians(Math.atan2(detection.getY(), detection.getX())).getDegrees();\n                        }\n\n\n\n\n\n                    break;\n                case 2 :\n\n\n\n\n                    //closest cluster\n                    // l for closest\n                    Translation3d[] detectionsl =  detectionIO.getPoses();\n                    // turn detections into an array of doubles\n                    ArrayList<double[]> pointsl = new ArrayList<double[]>();\n                    for (int i = 0; i < detectionsl.length; i++) {\n                        Translation3d detection = detectionsl[i];\n                        if (!(detection.getZ() >= 10)) {// if greater than or equal to 10 cm above the ground we don't want it\n                            pointsl.add(new double[]{detection.getX(), detection.getY()});\n                        }\n                        // turn detections into an array of doubles\n                    }\n                        // loop through find best value for k\n                        double bestWCSS = Double.POSITIVE_INFINITY;\n                        KMeans bestMean = null;\n                        for (int j = 1; j < detectionsl.length-1; j++) {\n                            KMeans means = new KMeans(new KMeans.Builder(j, pointsl.toArray(new double[][]{})));\n                            if (means.getWCSS()<bestWCSS){\n                                bestMean = means;\n                                bestWCSS = means.getWCSS();\n                            }\n                        }\n                        bestMean.getAssignment();\n\n\n\n\n\n                    break;\n                case 3:\n                    //use weights as heuristics\n                    break;\n\n            }\n\n\n\n\n\n\n\n\n\n        return pid.calculate(0, targetAngle);\n\n    }\n}\n
===================================================================
diff --git a/src/main/java/org/team1540/robot2026/subsystems/PieceDetection/PieceDetection.java b/src/main/java/org/team1540/robot2026/subsystems/PieceDetection/PieceDetection.java
--- a/src/main/java/org/team1540/robot2026/subsystems/PieceDetection/PieceDetection.java	(revision 1720769b13cd9d7cab68ee21112249226f294e43)
+++ b/src/main/java/org/team1540/robot2026/subsystems/PieceDetection/PieceDetection.java	(date 1772319940147)
@@ -105,7 +105,6 @@
                                 bestWCSS = means.getWCSS();
                             }
                         }
-                        bestMean.getAssignment();
 
 
 
